<html>
<head>
  <base href="https://api.bizgoboom.com/">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Road to Recovery: Motor Vehicle Accident Claim</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-color: #FF6B6B;
      --secondary-color: #4ECDC4;
      --accent-color: #FFA600;
      --background-color: #1A1A2E;
      --text-color: #FFFFFF;
      --input-bg: #2A2A3E;
      --input-border: #4A4A5E;
      --input-focus: #6A6A7E;
      --button-hover: #FFD166;
    }

    body {
      font-family: 'Roboto', sans-serif;
      background-color: var(--background-color);
      color: var(--text-color);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
      box-sizing: border-box;
      transition: background-color 2s ease;
    }

    .container {
      background: rgba(26, 26, 46, 0.8);
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255, 255, 255, 0.18);
      max-width: 800px;
      width: 100%;
      position: relative;
      overflow: hidden;
    }

    .container::before {
      content: "";
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: conic-gradient(
        from 0deg,
        transparent 0deg 340deg,
        var(--secondary-color) 340deg 360deg
      );
      animation: rotate 10s linear infinite;
      z-index: -1;
    }

    @keyframes rotate {
      100% {
        transform: rotate(360deg);
      }
    }

    .title-container {
      margin-bottom: 40px;
      text-align: center;
      position: relative;
    }

    h1 {
      font-size: 2.5em;
      font-weight: 700;
      font-family: 'Orbitron', sans-serif;
      text-transform: uppercase;
      letter-spacing: 3px;
      margin: 0;
      padding: 20px 0;
      background: linear-gradient(45deg, var(--primary-color), var(--secondary-color), var(--accent-color));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-size: 300% 300%;
      animation: gradientText 5s ease infinite;
      text-shadow: 
        0 0 10px rgba(255, 107, 107, 0.5),
        0 0 20px rgba(255, 107, 107, 0.3),
        0 0 30px rgba(255, 107, 107, 0.1);
    }

    @keyframes gradientText {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .subtitle {
      font-size: 1.2em;
      color: var(--secondary-color);
      margin-top: 10px;
      font-weight: 300;
    }

    form {
      display: grid;
      gap: 20px;
    }

    label {
      font-weight: 600;
      margin-bottom: 5px;
      display: block;
      color: var(--primary-color);
      text-transform: uppercase;
      font-size: 0.9em;
      letter-spacing: 1px;
    }

    input, select {
      width: 100%;
      padding: 12px;
      border: 2px solid var(--input-border);
      background-color: var(--input-bg);
      border-radius: 8px;
      color: var(--text-color);
      font-size: 16px;
      transition: all 0.3s ease;
      box-shadow: 0 0 10px rgba(255, 107, 107, 0.1);
    }

    input:focus, select:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 15px rgba(255, 107, 107, 0.5);
    }

    input[type="file"] {
      padding: 10px;
      background-color: var(--input-bg);
      border: 2px dashed var(--input-border);
    }

    button {
      background-color: var(--accent-color);
      color: var(--background-color);
      border: none;
      padding: 15px 25px;
      font-size: 18px;
      font-weight: 700;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
      box-shadow: 0 0 20px rgba(255, 166, 0, 0.5);
    }

    button:hover {
      background-color: var(--button-hover);
      transform: translateY(-2px);
      box-shadow: 0 0 30px rgba(255, 166, 0, 0.8);
    }

    .medical-conditions {
      background-color: rgba(42, 42, 62, 0.6);
      border-radius: 12px;
      padding: 20px;
      margin-top: 20px;
      border: 1px solid var(--input-border);
    }

    .medical-conditions h3 {
      color: var(--secondary-color);
      margin-top: 0;
      font-family: 'Orbitron', sans-serif;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    #medicalQuestionsContainer {
      display: grid;
      gap: 15px;
    }

    .checkbox-container {
      display: block;
      position: relative;
      padding-left: 35px;
      margin-bottom: 12px;
      cursor: pointer;
      font-size: 16px;
      user-select: none;
      color: var(--text-color);
    }

    .checkbox-container input {
      position: absolute;
      opacity: 0;
      cursor: pointer;
      height: 0;
      width: 0;
    }

    .checkmark {
      position: absolute;
      top: 0;
      left: 0;
      height: 25px;
      width: 25px;
      background-color: var(--input-bg);
      border: 2px solid var(--input-border);
      border-radius: 4px;
    }

    .checkbox-container:hover input ~ .checkmark {
      background-color: var(--input-focus);
    }

    .checkbox-container input:checked ~ .checkmark {
      background-color: var(--accent-color);
      border-color: var(--accent-color);
    }

    .checkmark:after {
      content: "";
      position: absolute;
      display: none;
    }

    .checkbox-container input:checked ~ .checkmark:after {
      display: block;
    }

    .checkbox-container .checkmark:after {
      left: 9px;
      top: 5px;
      width: 5px;
      height: 10px;
      border: solid var(--background-color);
      border-width: 0 3px 3px 0;
      transform: rotate(45deg);
    }

    .ai-assistant {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 60px;
      height: 60px;
      background-color: var(--secondary-color);
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      box-shadow: 0 0 20px rgba(78, 205, 196, 0.5);
      transition: all 0.3s ease;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(78, 205, 196, 0.7);
      }
      70% {
        transform: scale(1.1);
        box-shadow: 0 0 0 10px rgba(78, 205, 196, 0);
      }
      100% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(78, 205, 196, 0);
      }
    }

    .ai-assistant:hover {
      transform: scale(1.1);
      box-shadow: 0 0 30px rgba(78, 205, 196, 0.8);
    }

    .ai-assistant::before {
      content: "AI";
      font-family: 'Orbitron', sans-serif;
      font-weight: 700;
      color: var(--background-color);
    }

    .progress-container {
      position: relative;
      height: 10px;
      background-color: var(--input-bg);
      border-radius: 5px;
      margin-bottom: 20px;
      overflow: hidden;
    }

    .progress-bar {
      position: absolute;
      height: 100%;
      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
      transition: width 0.5s ease;
    }

    .car-animation {
      position: absolute;
      bottom: 10px;
      left: -50px;
      font-size: 24px;
      animation: driveCar 10s linear infinite;
    }

    @keyframes driveCar {
      0% {
        left: -50px;
        transform: scaleX(1);
      }
      45% {
        left: calc(100% + 50px);
        transform: scaleX(1);
      }
      50% {
        left: calc(100% + 50px);
        transform: scaleX(-1);
      }
      95% {
        left: -50px;
        transform: scaleX(-1);
      }
      100% {
        left: -50px;
        transform: scaleX(1);
      }
    }

    #colorPalette {
      position: fixed;
      top: 20px;
      right: 20px;
      display: flex;
      gap: 10px;
    }

    .color-option {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    .color-option:hover {
      transform: scale(1.2);
    }
  </style>
</head>
<body>
<div class="container">
  <div class="title-container">
    <h1>Road to Recovery</h1>
    <p class="subtitle">Motor Vehicle Accident Claim</p>
  </div>
  <div class="progress-container">
    <div class="progress-bar" id="progressBar"></div>
  </div>
  <form id="intakeForm">
    <input type="hidden" name="productId" value="83d204f3-7dc4-4583-9fa3-ae685cb51849">
    
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>
    
    <label for="firstName">First Name:</label>
    <input type="text" id="firstName" name="firstName" required>
    
    <label for="middleName">Middle Name:</label>
    <input type="text" id="middleName" name="middleName">
    
    <label for="lastName">Last Name:</label>
    <input type="text" id="lastName" name="lastName" required>
    
    <label for="phone">Phone:</label>
    <input type="tel" id="phone" name="phone" required>
    
    <label for="address">Address:</label>
    <input type="text" id="address" name="address" required>
    
    <label for="city">City:</label>
    <input type="text" id="city" name="city" required>
    
    <label for="state">State:</label>
    <input type="text" id="state" name="state" required>
    
    <label for="postalCode">Postal Code:</label>
    <input type="text" id="postalCode" name="postalCode" required>
    
    <label for="gender">Gender:</label>
    <select id="gender" name="gender" required>
      <option value="">Select Gender</option>
      <option value="Male">Male</option>
      <option value="Female">Female</option>
      <option value="Other">Other</option>
    </select>
    
    <label for="maritalStatus">Marital Status:</label>
    <input type="text" id="maritalStatus" name="maritalStatus" required>
    
    <label for="dob">Date of Birth:</label>
    <input type="date" id="dob" name="dob" required>
    
    <div class="medical-conditions">
      <h3>Accident-Related Health Check</h3>
      <div id="medicalQuestionsContainer"></div>
    </div>
    
    <label for="idPhoto">ID Photo:</label>
    <input type="file" id="idPhoto" name="idPhoto" accept="image/*" required>
    
    <label for="hipaaForm">HIPAA Form:</label>
    <input type="file" id="hipaaForm" name="hipaaForm" accept=".pdf" required>
    
    <button type="submit">Submit Claim</button>
  </form>
  <div class="car-animation">ðŸš—</div>
</div>

<div class="ai-assistant" title="AI Recovery Assistant"></div>

<div id="colorPalette">
  <div class="color-option" style="background-color: #FF6B6B;" onclick="changeColor('#FF6B6B', '#4ECDC4', '#FFA600')"></div>
  <div class="color-option" style="background-color: #6B66FF;" onclick="changeColor('#6B66FF', '#66FFED', '#FFD166')"></div>
  <div class="color-option" style="background-color: #66FF6B;" onclick="changeColor('#66FF6B', '#FF66D1', '#66D1FF')"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const medicalQuestions = [
    {id: "eb8423dc-6650-4d8c-9e13-1a813d349999", question: "Did you experience any pain immediately after the accident?"},
    {id: "a6214cf1-6fbf-4674-9255-96f8c3186dc7", question: "Have you noticed any new physical limitations since the accident?"},
    {id: "2892205b-d048-4e0a-9086-1d006abe04fd", question: "Are you experiencing headaches or dizziness?"},
    {id: "f018c87f-46e3-47cf-b829-ff6efd8d3d0a", question: "Do you have trouble sleeping since the accident?"},
    {id: "ad060d06-840f-4e0c-a8af-c623048e8fc2", question: "Have you been prescribed any new medications due to the accident?"},
    {id: "daa5e2e1-b7e3-4726-9ff7-5ca4a6fdd865", question: "Are you experiencing any emotional distress (anxiety, depression) since the accident?"},
    {id: "04e2b880-1ba1-4a63-8957-513aaabdbec5", question: "Have you been hospitalized due to the accident?"},
    {id: "edb7a192-410b-4aa7-acf8-5095e40412b7", question: "Do you have any pre-existing conditions that were aggravated by the accident?"},
    {id: "808eb1de-58ca-4b0b-b203-d62701681951", question: "Have you missed work due to injuries from the accident?"},
    {id: "0e28f104-e403-4206-8858-3ddba7934ec9", question: "Are you able to perform your daily activities as you did before the accident?"},
    {id: "67df9502-49ed-47de-883d-b9ede22df1b8", question: "Have you experienced any changes in your appetite or eating habits?"},
    {id: "205355b2-a7c3-4020-a9ae-9e82f0e77ace", question: "Are you experiencing any memory issues or difficulty concentrating?"},
    {id: "8c4bb521-6530-441a-9ba6-7366e32b3779", question: "Have you developed any new fears or phobias related to driving or being in a vehicle?"},
    {id: "e83d1398-b755-44ac-ab8a-0001833b231f", question: "Did you experience any loss of consciousness during or after the accident?"},
    {id: "8edc08c5-89f7-459c-99da-d518c736df2c", question: "Have you noticed any changes in your vision or hearing since the accident?"},
    {id: "6312aad7-aff6-4cff-8e73-56731b81d50d", question: "Are you experiencing any numbness or tingling sensations?"},
    {id: "6b8f5e35-b635-4c8c-a028-f281893acf0d", question: "Have you sought any alternative therapies (e.g., chiropractic, acupuncture) for accident-related issues?"}
  ];

  const container = document.getElementById('medicalQuestionsContainer');
  medicalQuestions.forEach(q => {
    const div = document.createElement('div');
    div.innerHTML = `
      <label class="checkbox-container">${q.question}
        <input type="checkbox" id="${q.id}" name="medicalConditionAnswers[${q.id}]">
        <span class="checkmark"></span>
      </label>
    `;
    container.appendChild(div);
  });

  const form = document.getElementById('intakeForm');
  const progressBar = document.getElementById('progressBar');

  function updateProgressBar() {
    const totalFields = form.elements.length;
    const filledFields = Array.from(form.elements).filter(element => element.value !== "").length;
    const progress = (filledFields / totalFields) * 100;
    progressBar.style.width = `${progress}%`;
  }

  form.addEventListener('input', updateProgressBar);

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    // Step 1: Obtain access token
    let accessToken;
    try {
      const tokenResponse = await axios.post('https://api.bizgoboom.com/api/v1/intake-api/authenticate', {}, {
        headers: {
          'client-secret': 'ceb09d9fbfb25a51b1ca56447a8726bbc6ae80787c53091f0cce85821c981977'
        }
      });
      accessToken = tokenResponse.data.token;
    } catch (error) {
      console.error('Error obtaining access token:', error);
      alert('Failed to authenticate. Please try again.');
      return;
    }

    // Step 2: Prepare the form data
    const formData = new FormData(form);
    
    // Prepare basicInfo
    const basicInfo = {};
    ['email', 'firstName', 'middleName', 'lastName', 'phone', 'address', 'city', 'state', 'postalCode', 'gender', 'maritalStatus', 'dob'].forEach(field => {
      basicInfo[field] = formData.get(field);
    });
    formData.set('basicInfo', JSON.stringify(basicInfo));
    
    // Prepare medicalConditionAnswers
    const medicalConditionAnswers = medicalQuestions.map(q => ({
      questionId: q.id,
      answer: formData.get(`medicalConditionAnswers[${q.id}]`) ? "Yes" : "No"
    }));
    formData.set('medicalConditionAnswers', JSON.stringify(medicalConditionAnswers));

    // Step 3: Submit the claim data
    try {
      const response = await axios.post('https://api.bizgoboom.com/api/v1/intake-api/intake-lead', formData, {
        headers: {
          'Authorization': `Bearer ${accessToken}`,
          'Content-Type': 'multipart/form-data'
        }
      });
      console.log('Claim submitted successfully', response.data);
      alert('Your claim has been submitted successfully! We\'re here to support you on your road to recovery.');
    } catch (error) {
      console.error('Error submitting claim:', error);
      alert('There was an error submitting your claim. Please try again or contact our support team.');
    }
  });

  // AI Recovery Assistant functionality
  const aiAssistant = document.querySelector('.ai-assistant');
  aiAssistant.addEventListener('click', () => {
    alert('Hello! I\'m your AI Recovery Assistant. I\'m here to guide you through the claim process and answer any questions you might have about your recovery journey. How can I assist you today?');
    // In a real implementation, this could open a chatbot interface or provide contextual help
  });

  // Initialize progress bar
  updateProgressBar();
});

function changeColor(primary, secondary, accent) {
  document.documentElement.style.setProperty('--primary-color', primary);
  document.documentElement.style.setProperty('--secondary-color', secondary);
  document.documentElement.style.setProperty('--accent-color', accent);
}

// Dynamic background color change
function changeBackgroundColor() {
  const colors = [
    '#1A1A2E', '#2A2A3E', '#3A3A4E', '#4A4A5E', '#5A5A6E',
    '#6A6A7E', '#7A7A8E', '#8A8A9E', '#9A9AAE', '#AAAAAE'
  ];
  let currentIndex = 0;

  setInterval(() => {
    document.body.style.backgroundColor = colors[currentIndex];
    currentIndex = (currentIndex + 1) % colors.length;
  }, 5000); // Change color every 5 seconds
}

changeBackgroundColor();
</script>
</body>
</html>